{% extends "base.html" %}
{% block conteudo %}

<div class="row">
    <div class="col-12">
        <h1 class="mb-4 display-2 fw-semibold fs-3 ">Banco de Sangue {{' - ' + hospital.nome if hospital else ''}}</h1>
    </div>
    <div class="col-4">
        <div class="col mb-3 bg-secondary p-3 rounded rounded-3" >
            <div class="justify-content-start">
                <form action="/usuario/{{usuario.id}}/consultar-banco-sangue" method="get">
                    <label for="opcoes">Hospital Selecionado:</label>
                    <select required class="form-select mt-2" id="opcoes" name="q" style="height: auto;" multiple aria-label="multiple select example">
                        <!-- <option value="">Selecione o seu tipo sangu√≠neo...</option> -->
                        {% for h in hospitais %}
                            <option value="{{h.id}}">{{h.nome}}</option>
                        {% endfor %}
                    </select>
                    
                    <div class="mt-3">
                        <!-- <a href="/hospital/solicitacao_doacao.html"
                            class="btn btn-lg w-100 cor-amarelo mouse-passa-amarelo-forte mb-3 link_personalizado1"> -->
                        <button class="mt-3 btn btn-lg cor-amarelo btn-danger border-0  link_personalizado1" type="submit">Consultar Saldo</button>
                        <!-- </a> -->
                    </div>
                    
                </form>
            </div>
        </div>
    </div>
    {% if estoque %}
    
    <div class="col-4">
        <div class="col mb-3 bg-secondary p-3 rounded rounded-3 text-white">
            <table>
                <tr>
                    <td>
                        <strong>A+:</strong>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span class="bar">
                            <span class="progresso" style="width: {{estoque.type_a }}%"> </span>
                            <span class="numero">{{estoque.type_a}}/100</span>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>B+:</strong>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span class="bar">
                            <span class="progresso" style="width: {{estoque.type_b }}%"> </span>
                            <span class="numero">{{estoque.type_b}}/100</span>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>AB+:</strong>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span class="bar">
                            <span class="progresso" style="width: {{estoque.type_ab }}%"> </span>
                            <span class="numero">{{estoque.type_ab}}/100</span>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>O+:</strong>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span class="bar">
                            <span class="progresso" style="width: {{estoque.type_o }}%"> </span>
                            <span class="numero">{{estoque.type_o}}/100</span>
                        </span>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="col-4">
        <div class="col mb-3 bg-secondary p-3 rounded rounded-3 text-white">
            <table >
                <tr>
                    <td>
                        <strong>A-:</strong>
                    </td>
                </tr>
                <tr>
                    <td >
                        <span class="bar ">
                            <span class="progresso " style="width: {{estoque.type_o_neg }}%"> </span>
                            <span class="numero">{{estoque.type_a_neg}}/100</span>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>B-:</strong>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span class="bar">
                            <span class="progresso" style="width: {{estoque.type_b_neg }}%"> </span>
                            <span class="numero">{{estoque.type_b_neg}}/100</span>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>AB-:</strong>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span class="bar">
                            <span class="progresso" style="width: {{estoque.type_ab_neg }}%"> </span>
                            <span class="numero">{{estoque.type_ab_neg}}/100</span>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>O-:</strong>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span class="bar">
                            <span class="progresso" style="width: {{estoque.type_o_neg }}%"> </span>
                            <span class="numero">{{estoque.type_o_neg}}/100</span>
                        </span>
                    </td>
                </tr>
            </table>
        </div>

    </div>

    {% endif %}
</div>

{% endblock %}